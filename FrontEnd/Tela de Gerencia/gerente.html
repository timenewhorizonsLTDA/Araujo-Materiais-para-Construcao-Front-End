<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Araujo Materiais para Construção</title>
    <link rel="stylesheet" href="gerente.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
    />
  </head>

  <body>
    <header class="topo">
      <div class="logo">
        <img src="img/logo.png" alt="Araujo Materiais para Construção" />
      </div>
      <div class="acoes">
        <a href="#"><i class="fa-solid fa-user"></i> Bruno Araujo</a>
      </div>
    </header>

    <main class="gerente-container">
      <h2>Gerenciamento</h2>

      <div class="cards-gerente">
        <a href="#" class="card-gerente">
          <i class="fa-solid fa-users"></i>
          <h3>Funcionários</h3>
          <p>Cadastrar, editar, listar e excluir Funcionário.</p>
        </a>

        <a href="#" class="card-gerente">
          <i class="fa-solid fa-box"></i>
          <h3>Produtos</h3>
          <p>Cadastrar, editar, consultar, excluir e conferir estoque baixo.</p>
        </a>

        <a href="#" class="card-gerente">
          <i class="fa-solid fa-calendar-check"></i>
          <h3>Agendamentos</h3>
          <p>Criar, verificar e atualizar.</p>
        </a>

        <a href="#" class="card-gerente">
          <i class="fa-solid fa-cart-shopping"></i>
          <h3>Orçamento</h3>
          <p>Cria orçamentos.</p>
        </a>

        <a href="#" class="card-gerente">
          <i class="fa-solid fa-file-invoice-dollar"></i>
          <h3>Dívidas dos Clientes</h3>
          <p>Registra, verifica e atualiza dívidas.</p>
        </a>
      </div>
    </main>

    <footer class="rodape">
      <!-- Footer permanece igual -->
    </footer>

    <!-- ==============================
         MODAL FUNCIONÁRIOS
         ============================== -->
    <div id="modalEditarFuncionario" class="modal" style="display: none">
      <div class="modal-content">
        <span class="closeModal">&times;</span>
        <h2>Gerenciar Funcionários</h2>

        <div class="modal-container">
          <!-- FORMULÁRIO CADASTRO/EDIÇÃO -->
          <div class="form-func">
            <h3>Cadastrar / Editar Funcionário</h3>
            <input type="text" id="nomeFunc" placeholder="Nome" />
            <input type="text" id="cpfFunc" placeholder="CPF" />
            <input type="text" id="emailFunc" placeholder="Email" />
            <input type="text" id="telFunc" placeholder="Telefone" />
            <button onclick="salvarFuncionario()">Salvar</button>
            <button
              onclick="abrirModalDelete()"
              style="background-color: red; color: white"
            >
              Excluir Funcionário
            </button>
          </div>

          <!-- TABELA DE FUNCIONÁRIOS -->
          <div class="tabela-func">
            <input
              type="text"
              id="buscarFunc"
              placeholder="Buscar Funcionário..."
            />
            <table>
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Nome</th>
                  <th>Email</th>
                  <th>Telefone</th>
                </tr>
              </thead>
              <tbody id="listaFuncionarios"></tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <!-- MODAL CONFIRMAÇÃO DELETE -->
    <div id="modalConfirmarDelete" class="modal" style="display: none">
      <div class="modal-content">
        <h3>Confirmar Exclusão</h3>
        <p>Digite sua senha para confirmar:</p>
        <input
          type="password"
          id="senhaConfirmacao"
          placeholder="Senha do gerente"
        />
        <div class="botoes">
          <button onclick="confirmarDeleteFuncionario()">Confirmar</button>
          <button onclick="fecharModalDelete()">Cancelar</button>
        </div>
      </div>
    </div>

    <script>
      // ABRIR MODAL FUNCIONÁRIOS PELO CARD
      const cardFuncionarios = document.querySelectorAll(".card-gerente")[0];
      const modal = document.getElementById("modalEditarFuncionario");
      const closeModal = modal.querySelector(".closeModal");

      cardFuncionarios.addEventListener("click", function (e) {
        e.preventDefault();
        modal.style.display = "flex";
        carregarFuncionarios();
      });

      // FECHAR MODAL PELO X
      closeModal.addEventListener("click", function () {
        modal.style.display = "none";
      });

      // FECHAR MODAL CLICANDO FORA
      window.addEventListener("click", function (e) {
        if (e.target === modal) {
          modal.style.display = "none";
        }
      });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/jwt-decode@3/build/jwt-decode.min.js"></script>
    <script src="gerente.js"></script>
  </body>
</html>
